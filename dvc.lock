schema: '2.0'
stages:
  download_data:
    cmd: make make_data
    deps:
    - path: src/data/make_dataset.py
      md5: e0600b3a2a08b53bc6dda20904ce9f3c
      size: 890
    outs:
    - path: data/raw
      md5: 852464e25b156611f06961a4f5826333.dir
      size: 175758
      nfiles: 1
  split_data:
    cmd: make split_data
    deps:
    - path: data/raw
      md5: 852464e25b156611f06961a4f5826333.dir
      size: 175758
      nfiles: 1
    - path: src/data/split_data.py
      md5: 7b4a41361863841178c96f6984b8c333
      size: 1889
    params:
      params.yaml:
        split_data.random_state: 42
        split_data.stratify: Churn
        split_data.test_size: 0.2
    outs:
    - path: data/interim
      md5: e2f0c9184f8e78520b039b4ecb4de80b.dir
      size: 971501
      nfiles: 2
  build_features:
    cmd: make build_features
    deps:
    - path: data/interim
      md5: e2f0c9184f8e78520b039b4ecb4de80b.dir
      size: 971501
      nfiles: 2
    - path: src/features/build_features.py
      md5: bebc8dcb3904632d4ab8ad0c6af29286
      size: 2771
    params:
      params.yaml:
        build_features.cat_feature: SeniorCitizen
        build_features.num_feature: TotalCharges
        build_features.target: Churn
    outs:
    - path: data/processed
      md5: 38901cf7c07fd6f2ad4e369b83a5bcbb.dir
      size: 796963
      nfiles: 2
  train_model:
    cmd: make train_model
    deps:
    - path: data/processed
      md5: 38901cf7c07fd6f2ad4e369b83a5bcbb.dir
      size: 796963
      nfiles: 2
    - path: src/models/train_model.py
      md5: f71f8f44d637c0c85bee6ce32e2ef151
      size: 3963
    params:
      params.yaml:
        train_model.target: Churn
    outs:
    - path: models
      md5: 3d5e990377f57077c95471628eef86b8.dir
      size: 2639818
      nfiles: 1
  evaluate_model:
    cmd: make evaluate_model
    deps:
    - path: data/processed
      md5: 38901cf7c07fd6f2ad4e369b83a5bcbb.dir
      size: 796963
      nfiles: 2
    - path: models/model.pkl
      md5: 0b0cd09274f05bbfba1d73894a32c5df
      size: 2639818
    - path: src/models/evaluate_model.py
      md5: cfc3ec76ad61dc917d428805834942c8
      size: 2539
    params:
      params.yaml:
        evaluate_model.target: Churn
    outs:
    - path: reports
      md5: 6d4058c23c7272600d307930685df17e.dir
      size: 59513
      nfiles: 3
