schema: '2.0'
stages:
  download_data:
    cmd: python3 src/data/make_dataset.py --force
    deps:
    - path: src/data/make_dataset.py
      md5: 9d8afd2b3f416d7471b0c01af2086aea
      size: 867
    outs:
    - path: data/raw
      md5: 852464e25b156611f06961a4f5826333.dir
      size: 175758
      nfiles: 1
  split_data:
    cmd: python3 src/data/split_data.py data/raw data/interim
    deps:
    - path: data/raw
      md5: 852464e25b156611f06961a4f5826333.dir
      size: 175758
      nfiles: 1
    - path: src/data/split_data.py
      md5: 7b4a41361863841178c96f6984b8c333
      size: 1889
    params:
      params.yaml:
        split_data.random_state: 42
        split_data.stratify: Churn
        split_data.test_size: 0.2
    outs:
    - path: data/interim
      md5: e2f0c9184f8e78520b039b4ecb4de80b.dir
      size: 971501
      nfiles: 2
  build_features:
    cmd: python3 src/features/build_features.py data/interim data/processed
    deps:
    - path: data/interim
      md5: e2f0c9184f8e78520b039b4ecb4de80b.dir
      size: 971501
      nfiles: 2
    - path: src/features/build_features.py
      md5: ad70f25a94cb2bd719ac1d188176e25d
      size: 2785
    params:
      params.yaml:
        build_features.cat_feature: SeniorCitizen
        build_features.num_feature: TotalCharges
        build_features.target: Churn
    outs:
    - path: data/processed
      md5: 38901cf7c07fd6f2ad4e369b83a5bcbb.dir
      size: 796963
      nfiles: 2
  train_model:
    cmd: python3 src/models/train_model.py data/processed models
    deps:
    - path: data/processed
      md5: 38901cf7c07fd6f2ad4e369b83a5bcbb.dir
      size: 796963
      nfiles: 2
    - path: src/models/train_model.py
      md5: 66ac904cbb784471fab7c32987b26535
      size: 3977
    params:
      params.yaml:
        train_model.target: Churn
    outs:
    - path: models
      md5: 3d5e990377f57077c95471628eef86b8.dir
      size: 2639818
      nfiles: 1
  evaluate_model:
    cmd: python3 src/models/evaluate_model.py data/processed models reports
    deps:
    - path: data/processed
      md5: 38901cf7c07fd6f2ad4e369b83a5bcbb.dir
      size: 796963
      nfiles: 2
    - path: models
      md5: 3d5e990377f57077c95471628eef86b8.dir
      size: 2639818
      nfiles: 1
    - path: src/models/evaluate_model.py
      md5: 9fc9b602ff0e0e69387826cc3245fc27
      size: 2845
    params:
      params.yaml:
        evaluate_model.target: Churn
    outs:
    - path: reports
      md5: bde28c1bd3e6624f09e330e7c9769191.dir
      size: 59548
      nfiles: 3
